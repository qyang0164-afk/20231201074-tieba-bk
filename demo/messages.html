<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>消息中心 - 校园贴吧</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/messages.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <a href="index.html" class="nav-logo">
                    <span class="logo-icon">🏫</span>
                    <span class="logo-text">校园贴吧</span>
                </a>
                <div class="nav-menu">
                    <a href="index.html" class="nav-link">首页</a>
                    <a href="search.html" class="nav-link">搜索</a>
                    <a href="create-post.html" class="nav-link">发帖</a>
                </div>
            </div>
            <div class="nav-right">
                <div class="nav-search">
                    <input type="text" placeholder="搜索帖子、用户..." class="search-input">
                    <button class="search-btn">🔍</button>
                </div>
                <div class="nav-user">
                    <a href="profile.html" class="user-avatar">👤</a>
                    <a href="messages.html" class="nav-icon active">💬</a>
                    <a href="settings.html" class="nav-icon">⚙️</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- 消息中心主容器 -->
    <div class="messages-container">
        <div class="messages-header">
            <h1>消息中心</h1>
            <div class="messages-actions">
                <button class="btn btn-secondary" id="markAllRead">全部已读</button>
                <button class="btn btn-primary" id="newMessage">新消息</button>
            </div>
        </div>

        <div class="messages-content">
            <!-- 消息侧边栏 -->
            <div class="messages-sidebar">
                <div class="sidebar-header">
                    <h3>消息类型</h3>
                </div>
                <div class="sidebar-menu">
                    <div class="menu-item active" data-type="all">
                        <span class="menu-icon">📥</span>
                        <span class="menu-text">全部消息</span>
                        <span class="menu-badge">12</span>
                    </div>
                    <div class="menu-item" data-type="system">
                        <span class="menu-icon">🔔</span>
                        <span class="menu-text">系统通知</span>
                        <span class="menu-badge">3</span>
                    </div>
                    <div class="menu-item" data-type="reply">
                        <span class="menu-icon">💬</span>
                        <span class="menu-text">回复消息</span>
                        <span class="menu-badge">5</span>
                    </div>
                    <div class="menu-item" data-type="like">
                        <span class="menu-icon">👍</span>
                        <span class="menu-text">点赞消息</span>
                        <span class="menu-badge">4</span>
                    </div>
                    <div class="menu-item" data-type="follow">
                        <span class="menu-icon">👥</span>
                        <span class="menu-text">关注消息</span>
                        <span class="menu-badge">2</span>
                    </div>
                    <div class="menu-item" data-type="private">
                        <span class="menu-icon">🔒</span>
                        <span class="menu-text">私信</span>
                        <span class="menu-badge">1</span>
                    </div>
                </div>
                
                <div class="sidebar-footer">
                    <div class="settings-item">
                        <span class="settings-icon">⚙️</span>
                        <span class="settings-text">消息设置</span>
                    </div>
                </div>
            </div>

            <!-- 消息列表 -->
            <div class="messages-list">
                <div class="list-header">
                    <h2 id="listTitle">全部消息</h2>
                    <div class="list-filters">
                        <select class="filter-select" id="timeFilter">
                            <option value="all">全部时间</option>
                            <option value="today">今天</option>
                            <option value="week">本周</option>
                            <option value="month">本月</option>
                        </select>
                        <select class="filter-select" id="statusFilter">
                            <option value="all">全部状态</option>
                            <option value="unread">未读</option>
                            <option value="read">已读</option>
                        </select>
                    </div>
                </div>

                <div class="messages-items" id="messagesContainer">
                    <!-- 消息项将通过JavaScript动态生成 -->
                </div>

                <div class="list-footer">
                    <button class="btn btn-outline" id="loadMore">加载更多</button>
                </div>
            </div>

            <!-- 消息详情 -->
            <div class="message-detail" id="messageDetail">
                <div class="detail-header">
                    <button class="back-btn" id="backToList">← 返回</button>
                    <h3 id="detailTitle">消息详情</h3>
                    <div class="detail-actions">
                        <button class="action-btn" title="回复">💬</button>
                        <button class="action-btn" title="删除">🗑️</button>
                        <button class="action-btn" title="更多">⋯</button>
                    </div>
                </div>

                <div class="detail-content">
                    <div class="message-preview" id="messagePreview">
                        <div class="preview-placeholder">
                            <div class="placeholder-icon">💬</div>
                            <p>选择一条消息查看详情</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 新消息模态框 -->
    <div class="modal" id="newMessageModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>发送新消息</h3>
                <button class="modal-close" id="closeModal">×</button>
            </div>
            <div class="modal-body">
                <form id="newMessageForm">
                    <div class="form-group">
                        <label for="recipient">收件人</label>
                        <input type="text" id="recipient" placeholder="输入用户名或选择联系人" required>
                    </div>
                    <div class="form-group">
                        <label for="messageSubject">主题</label>
                        <input type="text" id="messageSubject" placeholder="消息主题（可选）">
                    </div>
                    <div class="form-group">
                        <label for="messageContent">内容</label>
                        <textarea id="messageContent" placeholder="输入消息内容..." rows="6" required></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelMessage">取消</button>
                <button class="btn btn-primary" id="sendMessage">发送</button>
            </div>
        </div>
    </div>

    <script src="js/messages.js"></script>
</body>
</html>